@inherits LayoutComponentBase
@inject NavigationManager NavigationManager

<div class="dashboard-container @(isSidebarOpen ? "sidebar-open" : "sidebar-closed")">

    <div class="topbar">
        <button class="menu-button" @onclick="ToggleSidebar">☰</button>
        <span class="app-title">PowerHouse</span>
    </div>

    <div class="sidebar">
        <div class="sidebar-header">
            <img src="powerhouse_logo.png" class="sidebar-logo" />
        </div>

        <nav class="sidebar-nav">
            <ul>
                <li><NavLink href="/dashboard" class="nav-link" activeClass="active">🏠 Dashboard</NavLink></li>
                <li><NavLink href="/members" class="nav-link" activeClass="active">👥 Members</NavLink></li>
                <li><NavLink href="/trainers" class="nav-link" activeClass="active">🏋️ Trainers</NavLink></li>
                <li><NavLink href="/attendance" class="nav-link" activeClass="active">🗓️ Attendance</NavLink></li>
                <li><NavLink href="/payment" class="nav-link" activeClass="active">💳 Payment</NavLink></li>
                <li><NavLink href="/promotions" class="nav-link" activeClass="active">🏷️ Promotions</NavLink></li>
                <li><NavLink href="/reports" class="nav-link" activeClass="active">📄 Reports</NavLink></li>
                <li><NavLink href="/settings" class="nav-link" activeClass="active">⚙️ Settings</NavLink></li>
            </ul>
        </nav>

        <div class="sidebar-footer">
            <div class="sidebar-logout" @onclick="Logout">
                🚪 Logout
            </div>
        </div>
    </div>

    <div class="backdrop @(isSidebarOpen ? "show" : "")" @onclick="CloseSidebar"></div>

    <div class="main-content">
        @Body
    </div>
</div>

@code {
    private bool isSidebarOpen = true;

    private void ToggleSidebar() => isSidebarOpen = !isSidebarOpen;
    private void CloseSidebar() => isSidebarOpen = false;
    private void Logout() => NavigationManager.NavigateTo("/login", true);
}
